<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Á§æÁæ§Ë®éË? | MotoWeb</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/tech-theme.css">
    <link rel="stylesheet" href="/css/community.css">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Community ?ÅÈù¢Â∞àÁî®Ê®?? - ?æ‰ª£ÁßëÊ?È¢®Ê†º */
        .main-container {
            margin-top: 80px;
            min-height: 100vh;
            background: var(--secondary-color);
        }

        .community-main-content {
            display: flex;
            gap: 3rem;
            padding: 2rem 5%;
            max-width: 1400px;
            margin: 0 auto;
            background: var(--secondary-color);
        }

        /* ?¥È?Ê¨ÑÊ®£Âº?- ÁßëÊ?È¢®Ê†º */
        .community-sidebar {
            flex: 0 0 320px;
            background: linear-gradient(145deg, var(--mid-surface), var(--dark-surface));
            padding: 2rem;
            border-radius: 20px;
            height: fit-content;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(0, 212, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            border: 2px solid var(--carbon-gray);
            position: sticky;
            top: 100px;
        }

        .community-sidebar h3 {
            font-size: 1.6rem;
            color: var(--primary-color);
            margin-bottom: 1.5rem;
            padding-bottom: 0.8rem;
            border-bottom: 2px solid var(--primary-color);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
            font-weight: 700;
        }

        .category-list ul {
            list-style: none;
            padding: 0;
        }

        .category-list li {
            margin-bottom: 0.5rem;
        }

        .category-list a {
            display: block;
            padding: 0.8rem 1rem;
            color: var(--metallic-silver);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .category-list a:hover,
        .category-list a.active {
            color: white;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            font-weight: 600;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
            transform: translateX(5px);
        }

        .popular-tags h3 {
            margin-top: 2rem;
        }

        .tag-cloud {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .tag {
            padding: 0.5rem 1rem;
            background: linear-gradient(145deg, var(--light-surface), var(--mid-surface));
            color: var(--metallic-silver);
            text-decoration: none;
            border-radius: 20px;
            font-size: 0.85rem;
            border: 1px solid var(--carbon-gray);
            transition: all 0.3s ease;
        }

        .tag:hover {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
            transform: translateY(-2px);
        }

        /* Ë®éË??Ä?üÊ®£Âº?*/
        .community-display-area {
            flex: 1;
            background: var(--secondary-color);
        }

        .community-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1.5rem 2rem;
            background: linear-gradient(145deg, var(--mid-surface), var(--dark-surface));
            border-radius: 15px;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .results-count {
            color: var(--metallic-silver);
            font-size: 1.1rem;
            font-weight: 600;
        }

        .view-options .btn {
            font-size: 0.95rem;
            padding: 10px 20px;
        }

        /* Ë®éË??óË°®Ê®?? */
        .discussion-list {
            display: grid;
            gap: 2rem;
        }

        .discussion-item {
            background: linear-gradient(145deg, var(--mid-surface), var(--dark-surface));
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 
                0 8px 25px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(0, 212, 255, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
            position: relative;
            color: white;
        }

        .discussion-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, 
                var(--primary-color), 
                var(--accent-color), 
                var(--success-color));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .discussion-item:hover {
            transform: translateY(-8px);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.5),
                0 0 40px rgba(0, 212, 255, 0.3),
                0 0 60px rgba(124, 58, 237, 0.2);
            border-color: var(--primary-color);
        }

        .discussion-item:hover::before {
            opacity: 1;
        }

        .discussion-header {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            gap: 1rem;
        }

        .discussion-user-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid var(--success-color);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
        }

        .user-info h4 {
            margin: 0;
            color: white;
            font-weight: 700;
        }

        .user-info span {
            color: var(--metallic-silver);
            font-size: 0.9rem;
        }

        .discussion-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1rem;
            transition: color 0.3s ease;
        }

        .discussion-item:hover .discussion-title {
            color: var(--primary-color);
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }

        .discussion-content {
            color: var(--metallic-silver);
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .discussion-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1rem;
            border-top: 1px solid var(--carbon-gray);
        }

        .discussion-stats {
            display: flex;
            gap: 1.5rem;
        }

        .discussion-stats span {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--metallic-silver);
            font-size: 0.9rem;
        }

        .discussion-stats i {
            color: var(--success-color);
        }

        .category-tag {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ËºâÂÖ•?áÁ§∫??*/
        .loading {
            text-align: center;
            padding: 4rem;
            color: var(--metallic-silver);
            font-size: 1.2rem;
        }

        .loading i {
            color: var(--primary-color);
            margin-right: 0.8rem;
        }

        /* ?ÜÈ?Ê®?? */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 3rem;
        }

        .pagination a,
        .pagination span {
            padding: 0.8rem 1.2rem;
            background: linear-gradient(145deg, var(--mid-surface), var(--dark-surface));
            color: var(--metallic-silver);
            text-decoration: none;
            border-radius: 12px;
            border: 1px solid var(--carbon-gray);
            transition: all 0.3s ease;
        }

        .pagination a:hover,
        .pagination .active {
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            color: white;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
        }

        /* ?øÊ?ÂºèË®≠Ë®?*/
        @media (max-width: 1200px) {
            .community-main-content {
                gap: 2rem;
            }
            
            .community-sidebar {
                flex: 0 0 280px;
            }
        }

        @media (max-width: 768px) {
            .community-main-content {
                flex-direction: column;
                padding: 1rem 3%;
            }

            .community-sidebar {
                flex: none;
                position: static;
                margin-bottom: 2rem;
            }

            .community-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
                text-align: center;
            }

            .discussion-header {
                flex-direction: column;
                text-align: center;
                gap: 0.8rem;
            }

            .discussion-footer {
                flex-direction: column;
                gap: 1rem;
                align-items: center;
            }
        }

        /* ?ÅÈù¢Ê®ôÈ??ÄÂ°äÊ®£Âº?*/
        .page-header {
            background: 
                linear-gradient(135deg, 
                    rgba(10, 10, 10, 0.95), 
                    rgba(31, 41, 55, 0.9)),
                radial-gradient(circle at 30% 40%, rgba(0, 212, 255, 0.1), transparent),
                radial-gradient(circle at 70% 60%, rgba(124, 58, 237, 0.1), transparent),
                url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="circuit" patternUnits="userSpaceOnUse" width="40" height="40"><rect width="40" height="40" fill="%23111827"/><path d="M0,20 L40,20 M20,0 L20,40" stroke="%2300d4ff" stroke-width="0.5" opacity="0.3"/><circle cx="20" cy="20" r="2" fill="%2300d4ff" opacity="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23circuit)"/></svg>');
            background-size: cover, cover, cover, 80px 80px;
            color: white;
            padding: 6rem 5% 4rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .page-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 2px;
            height: 100%;
            background: linear-gradient(to bottom, transparent, var(--primary-color), transparent);
            animation: scanEffect 8s infinite linear;
        }

        @keyframes scanEffect {
            0% { transform: translateX(-100%); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translateX(100%); opacity: 0; }
        }

        @keyframes titleGlow {
            0%, 100% { 
                background-position: 0% 50%;
                filter: brightness(1) drop-shadow(0 0 20px rgba(0, 212, 255, 0.5));
            }
            50% { 
                background-position: 100% 50%;
                filter: brightness(1.2) drop-shadow(0 0 30px rgba(124, 58, 237, 0.8));
            }
        }

        .page-header h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, 
                #ffffff, 
                var(--primary-color), 
                var(--accent-color), 
                var(--success-color), 
                #ffffff);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titleGlow 4s ease-in-out infinite;
            text-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
            position: relative;
        }

        .page-header p {
            font-size: 1.3rem;
            color: var(--metallic-silver);
            margin-bottom: 2.5rem;
            opacity: 0.9;
        }

        .search-bar {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            gap: 0;
            background: linear-gradient(145deg, var(--mid-surface), var(--dark-surface));
            border-radius: 50px;
            border: 2px solid var(--carbon-gray);
            overflow: hidden;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .search-bar input {
            flex: 1;
            padding: 1.2rem 2rem;
            border: none;
            background: transparent;
            color: white;
            font-size: 1.1rem;
            outline: none;
        }

        .search-bar input::placeholder {
            color: var(--metallic-silver);
        }

        .search-bar .search-btn {
            padding: 1.2rem 2rem;
            background: linear-gradient(45deg, var(--primary-color), var(--accent-color));
            border: none;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .search-bar .search-btn:hover {
            background: linear-gradient(45deg, var(--accent-color), var(--success-color));
            box-shadow: 0 0 25px rgba(0, 212, 255, 0.5);
        }

        /* ?øÊ?ÂºèË®≠Ë®?*/
        @media (max-width: 968px) {
            .page-header h1 {
                font-size: 2.5rem;
            }
            
            .page-header p {
                font-size: 1.1rem;
            }
        }

        @media (max-width: 768px) {
            .page-header {
                padding: 4rem 5% 3rem;
            }
            
            .page-header h1 {
                font-size: 2rem;
            }
            
            .search-bar {
                flex-direction: column;
                border-radius: 20px;
            }
            
            .search-bar input,
            .search-bar .search-btn {
                border-radius: 15px;
            }
        }

        @media (max-width: 480px) {
            .page-header {
                padding: 3rem 5% 2rem;
            }
            
            .page-header h1 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container nav-container">
            <div class="logo">
                <a href="index.html" aria-label="motowebÈ¶ñÈ?">
                    <img src="/images/motoweb-logo.svg" alt="motoweb Logo" class="logo-img">
                </a>
            </div>
            <div class="nav-links" id="navLinks">
                <div class="main-nav">
                    <a href="index.html">È¶ñÈ?</a>
                    <a href="products.html">?πË??∂‰ª∂</a>
                    <a href="community.html" class="active" aria-current="page">Á§æÁæ§Ë®éË?</a>
                    <a href="gallery.html">‰ΩúÂ?Â±ïÁ§∫</a>
                    <a href="events.html">?πË?Ê¥ªÂ?</a>
                </div>
                <div class="auth-buttons">
                    <a href="login.html" class="btn btn-secondary">?ªÂÖ•</a>
                    <a href="register.html" class="btn btn-primary">Ë®ªÂ?</a>
                </div>
                <div class="user-menu" style="display: none;">
                    <div class="user-avatar">
                        <img src="/images/default-avatar.svg" alt="?®Êà∂?≠Â?" class="avatar">
                        <span class="username">?®Êà∂?çÁ®±</span>
                    </div>
                    <div class="dropdown-menu">
                        <a href="/profile.html"><i class="fas fa-user"></i> ?ã‰∫∫Ë≥áÊ?</a>
                        <a href="/garage.html"><i class="fas fa-motorcycle"></i> ?ëÁ?ËªäÂ∫´</a>
                        <a href="/settings.html"><i class="fas fa-cog"></i> Â∏≥Ë?Ë®≠Â?</a>
                        <a href="#" id="logout"><i class="fas fa-sign-out-alt"></i> ?ªÂá∫</a>
                    </div>
                </div>
            </div>
            <button class="menu-toggle" aria-label="Â±ïÈ??∏ÂñÆ" aria-expanded="false" aria-controls="navLinks">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
        </div>
    </nav>

    <!-- ‰∏ªË??ßÂÆπ?Ä??-->
    <main class="main-container">
        <header class="page-header">
            <h1>Á§æÁæ§Ë®éË?</h1>
            <p>?Ü‰∫´‰Ω†Á??πË?Á∂ìÈ?ÔºåË?ËªäÂ??ë‰?Ëµ∑‰∫§ÊµÅË?Ë´?/p>
            <div class="search-bar">
                <input type="text" id="search-input" placeholder="?úÂ?Ë®éË??ßÂÆπ...">
                <button class="search-btn" id="search-btn"><i class="fas fa-search"></i></button>
            </div>
        </header>

        <main class="community-main-content">
            <div class="content-layout">
            <aside class="community-sidebar" id="community-sidebar">
                <h3>Ë®éË??ÜÈ?</h3>
                
                <div class="category-list">
                    <ul id="category-list">
                        <li><a href="#" data-category="all" class="active">?Ä?âÂ?È°?(ËºâÂÖ•‰∏?..)</a></li>
                        <li><a href="#" data-category="?íÊ∞£Á≥ªÁµ±">?íÊ∞£Á≥ªÁµ± (ËºâÂÖ•‰∏?..)</a></li>
                        <li><a href="#" data-category="?∏Â?Á≥ªÁµ±">?∏Â?Á≥ªÁµ± (ËºâÂÖ•‰∏?..)</a></li>
                        <li><a href="#" data-category="ÂºïÊ??πË?">ÂºïÊ??πË? (ËºâÂÖ•‰∏?..)</a></li>
                        <li><a href="#" data-category="?ªÂ?Á≥ªÁµ±">?ªÂ?Á≥ªÁµ± (ËºâÂÖ•‰∏?..)</a></li>
                        <li><a href="#" data-category="Â§ñË?Â•ó‰ª∂">Â§ñË?Â•ó‰ª∂ (ËºâÂÖ•‰∏?..)</a></li>
                        <li><a href="#" data-category="‰øùÈ?Á∂≠Ë≠∑">‰øùÈ?Á∂≠Ë≠∑ (ËºâÂÖ•‰∏?..)</a></li>
                    </ul>
            </div>

                <!-- ?±È?Ê®ôÁ±§ -->
                <div class="popular-tags">
                    <h3>?±È?Ê®ôÁ±§</h3>
                    <div class="tag-cloud" id="popular-tags">
                        <a href="#" class="tag" data-tag="?íÊ∞£ÁÆ?>#?íÊ∞£ÁÆ?/a>
                        <a href="#" class="tag" data-tag="?øÈ???>#?øÈ???/a>
                        <a href="#" class="tag" data-tag="?ïÂ??êÂ?">#?ïÂ??êÂ?</a>
                        <a href="#" class="tag" data-tag="LED">#LED</a>
                        <a href="#" class="tag" data-tag="‰øùÈ?">#‰øùÈ?</a>
                        <a href="#" class="tag" data-tag="?∞Ê?">#?∞Ê?</a>
            </div>
        </div>
        </aside>

            <section class="community-display-area">
                <div class="community-header">
                    <div class="results-count">
                        <span id="discussion-count">Ë®éË??áÁ?</span>
                    </div>
                    <div class="view-options">
                        <button class="btn btn-primary" id="new-post-btn">
                            <i class="fas fa-plus"></i> ?ºË°®?áÁ?
                        </button>
                    </div>
                </div>

                <!-- ËºâÂÖ•?áÁ§∫??-->
                <div class="loading" id="loading">
                    <i class="fas fa-spinner fa-spin"></i> ËºâÂÖ•‰∏?..
                </div>

                <!-- ?áÁ??óË°® -->
                <div class="discussion-list" id="discussions-grid">
                    <!-- ?ïÊ?ËºâÂÖ•?ÑË?Ë´ñÊ?Á´?-->
                </div>

                <!-- ?ÜÈ??ßÂà∂ -->
                <div class="pagination" id="pagination">
                    <!-- ?ïÊ??üÊ??ÜÈ??âÈ? -->
                </div>
            </section>
        </main>
    </main>

    <!-- ?ºË°®?áÁ?Ê®°Ê?Ê°?-->
    <div id="post-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>?ºË°®?∞Ê?Á´?/h2>
                <span class="close">&times;</span>
            </div>
            <div class="modal-body">
                <form id="post-form">
                    <div class="form-group">
                        <label for="post-title">Ê®ôÈ?</label>
                        <input type="text" id="post-title" class="form-control" required maxlength="100" placeholder="Ë´ãËº∏?•Ê?Á´†Ê?È°?..">
                    </div>
                    
                    <div class="form-group">
                        <label for="post-category">?ÜÈ?</label>
                        <select id="post-category" class="form-control" required>
                            <option value="">Ë´ãÈÅ∏?áÂ?È°?/option>
                            <option value="?íÊ∞£Á≥ªÁµ±">??Ô∏??íÊ∞£Á≥ªÁµ±</option>
                            <option value="?∏Â?Á≥ªÁµ±">?ôÔ? ?∏Â?Á≥ªÁµ±</option>
                            <option value="ÂºïÊ??πË?">?îß ÂºïÊ??πË?</option>
                            <option value="?ªÂ?Á≥ªÁµ±">?í° ?ªÂ?Á≥ªÁµ±</option>
                            <option value="Â§ñË?Â•ó‰ª∂">??Â§ñË?Â•ó‰ª∂</option>
                            <option value="‰øùÈ?Á∂≠Ë≠∑">??Ô∏?‰øùÈ?Á∂≠Ë≠∑</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="post-content">?ßÂÆπ</label>
                        <textarea id="post-content" class="form-control" required rows="6" placeholder="?Ü‰∫´‰Ω†Á??πË?Á∂ìÈ??ÅÂ?ÂæóÊ??èÈ?...&#10;&#10;‰æãÂ?Ôº?#10;??‰ΩøÁî®‰∫Ü‰?È∫ºÈõ∂‰ª∂Ô?&#10;???πË??éÁ?Â¶Ç‰?Ôº?#10;???â‰?È∫ºÂª∫Ë≠∞Ê?Ê≥®Ê?‰∫ãÈ?Ôº?></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="tag-input" class="optional-label">Ê®ôÁ±§ (?ÄÂ§??ãÔ??ØÈÅ∏)</label>
                        <div class="tag-input-container" id="tag-container">
                            <input type="text" id="tag-input" class="tag-input" placeholder="Ëº∏ÂÖ•Ê®ôÁ±§ÂæåÊ? EnterÔºå‰?Â¶ÇÔ??íÊ∞£ÁÆ°„ÄÅÊÄßËÉΩ?êÂ?">
                        </div>
                        <small class="form-hint">?í° Ê∑ªÂ??∏È?Ê®ôÁ±§?Ø‰ª•ËÆìÊõ¥Â§ö‰∫∫?æÂà∞‰Ω†Á??áÁ?</small>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn-secondary" id="cancel-btn">?ñÊ?</button>
                <button type="button" class="btn-primary" id="submit-btn">?ºË°®?áÁ?</button>
            </div>
        </div>
    </div>

    <!-- ?ÅËÖ≥ -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section about">
                    <div class="footer-logo">
                        <img src="/images/motoweb-logo.svg" alt="motoweb Logo" class="footer-logo-img">
                    </div>
                    <p>Â∞àÊ•≠?ÑÊë©?òË??πË?Á§æÁæ§Âπ≥Âè∞ÔºåÁÇ∫ËªäÂ??ê‰?‰∫§Ê??áÂ?‰∫´Á?Á©∫È???/p>
                    <div class="social-links">
                        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
                        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="#" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        <a href="#" aria-label="Discord"><i class="fab fa-discord"></i></a>
                    </div>
                </div>
                <div class="footer-section links">
                    <h3>Âø´ÈÄüÈÄ??</h3>
                    <ul>
                        <li><a href="about.html">?úÊñº?ëÂÄ?/a></li>
                        <li><a href="products.html">?πË??∂‰ª∂</a></li>
                        <li><a href="community.html">Á§æÁæ§Ë®éË?</a></li>
                        <li><a href="gallery.html">‰ΩúÂ?Â±ïÁ§∫</a></li>
                        <li><a href="events.html">?πË?Ê¥ªÂ?</a></li>
                    </ul>
                </div>
                <div class="footer-section contact">
                    <h3>?ØÁµ°Ë≥áË?</h3>
                    <ul class="contact-info">
                        <li><i class="fas fa-envelope"></i> contact@MotoWeb.com</li>
                        <li><i class="fas fa-phone"></i> (02) 1234-5678</li>
                        <li><i class="fas fa-map-marker-alt"></i> ?∞Â?Â∏Ç‰ø°Áæ©Â??æ‰?Ë∑?00??/li>
                    </ul>
                </div>
                <div class="footer-section newsletter">
                    <h3>Ë®ÇÈñ±?ªÂ???/h3>
                    <p>?≤Â??Ä?∞ÊîπË£ùË∂®?¢Ë?Ê¥ªÂ?Ë≥áË?</p>
                    <form class="newsletter-form" action="subscribe.php" method="POST">
                        <input type="email" name="email" placeholder="?®Á??ªÂ??µ‰ª∂" required>
                        <button type="submit" class="btn btn-primary">Ë®ÇÈñ±</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 MotoWeb. ‰øùÁ??Ä?âÊ??©„Ä?/p>
                <div class="footer-bottom-links">
                    <a href="privacy.html">?±Á??øÁ?</a>
                    <a href="terms.html">‰ΩøÁî®Ê¢ùÊ¨æ</a>
                    <a href="cookies.html">Cookie ?øÁ?</a>
                </div>
            </div>
        </div>
    </footer>

    <button id="backToTop" class="back-to-top" aria-label="ËøîÂ??ÅÈù¢?ÇÈÉ®">
        <i class="fas fa-chevron-up"></i>
    </button>

    <!-- JavaScript -->
    <script src="/js/common.js"></script>
    <script src="/js/auth-state.js"></script>
    <script src="/js/community-api.js"></script>
    <script>
        // Á§æÁæ§APIÂØ¶‰?
        const communityAPI = new CommunityAPI();
        
        // ?®Â?ËÆäÊï∏
        let currentPage = 1;
        let currentCategory = 'all';
        let currentSearch = '';
        let isLoading = false;

        // DOM ?ÉÁ?
        const discussionsGrid = document.getElementById('discussions-grid');
        const loadingIndicator = document.getElementById('loading');
        const paginationContainer = document.getElementById('pagination');
        const categoryLinks = document.querySelectorAll('#category-list a');
        const searchInput = document.getElementById('search-input');
        const searchBtn = document.getElementById('search-btn');
        const newPostBtn = document.getElementById('new-post-btn');
        const modal = document.getElementById('post-modal');
        const closeBtn = modal ? modal.querySelector('.close') : null;
        const cancelBtn = document.getElementById('cancel-btn');
        const submitBtn = document.getElementById('submit-btn');

        // ?ùÂ???        document.addEventListener('DOMContentLoaded', function() {
            console.log('Á§æÁæ§?ÅÈù¢ DOM ËºâÂÖ•ÂÆåÊ?');
            
            // Á¢∫‰?Ê®°Ê?Ê°ÜÂ?ÂßãÁ??ãÊòØ?±Ë???            const modalElement = document.getElementById('post-modal');
            if (modalElement) {
                modalElement.style.removeProperty('display');
                modalElement.classList.remove('show');
                console.log('Ê®°Ê?Ê°ÜÂ?ÂßãÁ??ãÂ∑≤Ë®≠ÁΩÆ?∫Èö±??);
                console.log('Ê®°Ê?Ê°ÜÂ?ÂßãÈ???', modalElement.className);
                console.log('Ê®°Ê?Ê°ÜÂ?ÂßãÊ®£Âº?', window.getComputedStyle(modalElement).display);
                console.log('Ê®°Ê?Ê°ÜÂ?Âßãz-index:', window.getComputedStyle(modalElement).zIndex);
            }
            
            // Ê™¢Êü•?çË??ÉÁ??ØÂê¶Â≠òÂú®
            console.log('?∞Ê?Á´†Ê???', document.getElementById('new-post-btn'));
            console.log('Ê®°Ê?Ê°?', document.getElementById('post-modal'));
            console.log('?úÈ??âÈ?:', closeBtn ? closeBtn : null);
            
            initializeFromURL();
            loadPosts();
            updateCategoryCounts();
            bindEvents();
            
            console.log('Á§æÁæ§?ÅÈù¢?ùÂ??ñÂ???);
        });

        // ÂæûURL?ùÂ??ñÈ??¢Á???        function initializeFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            currentPage = parseInt(urlParams.get('page')) || 1;
            currentCategory = urlParams.get('category') || 'all';
            currentSearch = urlParams.get('search') || '';
            
            // ?¥Êñ∞?ÜÈ??∏‰∏≠?Ä??            categoryLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.category === currentCategory) {
                    link.classList.add('active');
                }
            });
            
            // ?¥Êñ∞?úÂ?Ê°?            if (currentSearch) {
                searchInput.value = currentSearch;
            }
        }

        // ËºâÂÖ•Ë≤ºÊ?
        async function loadPosts() {
            if (isLoading) return;
            
            isLoading = true;
            showLoading();
            
            try {
                const options = {
                    page: currentPage,
                    limit: 6
                };
                
                if (currentCategory !== 'all') {
                    options.category = currentCategory;
                }
                
                if (currentSearch) {
                    options.search = currentSearch;
                }
                
                const response = await communityAPI.getPosts(options);
                displayPosts(response.posts);
                updatePagination(response);
                
            } catch (error) {
                console.error('ËºâÂÖ•Ë≤ºÊ?Â§±Ê?:', error);
                showError('ËºâÂÖ•Ë≤ºÊ?Â§±Ê?ÔºåË?Á®çÂ??çË©¶');
            } finally {
                isLoading = false;
                hideLoading();
            }
        }

        // È°ØÁ§∫Ë≤ºÊ?
        function displayPosts(posts) {
            if (!posts || posts.length === 0) {
                discussionsGrid.innerHTML = '<div class="no-posts">Ê≤íÊ??æÂà∞Á¨¶Â?Ê¢ù‰ª∂?ÑÊ?Á´?/div>';
                return;
            }
            
            const postsHTML = posts.map(post => `
                <article class="discussion-item">
                    <div class="discussion-avatar">
                        <img src="${post.avatar || 'images/default-avatar.svg'}" 
                             alt="${post.author}?ÑÈ†≠?? 
                             onerror="this.src='images/default-avatar.svg'">
                    </div>
                    <div class="discussion-content">
                        <h3 class="discussion-title">
                            <a href="discussion-detail.html?id=${post._id}">${post.title}</a>
                        </h3>
                        
                        <div class="discussion-meta">
                            <span class="discussion-author">by ${post.author}</span>
                            <span class="discussion-date">${formatDate(post.createdAt)}</span>
                            <span class="discussion-category">${post.category}</span>
                        </div>
                        
                        <p class="discussion-excerpt">${post.excerpt}</p>
                        
                        <div class="discussion-tags">
                            ${post.tags.map(tag => `<span class="discussion-tag" data-tag="${tag}">#${tag}</span>`).join('')}
                        </div>
                        
                        <div class="discussion-stats">
                            <span class="stats-item"><i class="fas fa-thumbs-up"></i> ${post.likes}</span>
                            <span class="stats-item"><i class="fas fa-eye"></i> ${post.views}</span>
                            <span class="stats-item"><i class="fas fa-comments"></i> ${post.commentCount}</span>
                        </div>
                    </div>
                </article>
            `).join('');
            
            discussionsGrid.innerHTML = postsHTML;
            
            // Á∂ÅÂ?Ê®ôÁ±§ÈªûÊ?‰∫ã‰ª∂
            bindTagEvents();
        }

        // ?¥Êñ∞?ÜÈ?
        function updatePagination(response) {
            if (response.totalPages <= 1) {
                paginationContainer.innerHTML = '';
                return;
            }
            
            let paginationHTML = '';
            
            // ‰∏ä‰???            if (currentPage > 1) {
                paginationHTML += `<a href="#" data-page="${currentPage - 1}">&laquo; ‰∏ä‰???/a>`;
            }
            
            // ?ÅÁ¢º
            const startPage = Math.max(1, currentPage - 2);
            const endPage = Math.min(response.totalPages, currentPage + 2);
            
            if (startPage > 1) {
                paginationHTML += `<a href="#" data-page="1">1</a>`;
                if (startPage > 2) {
                    paginationHTML += '<span>...</span>';
                }
            }
            
            for (let i = startPage; i <= endPage; i++) {
                paginationHTML += `<a href="#" data-page="${i}" ${i === currentPage ? 'class="active"' : ''}>${i}</a>`;
            }
            
            if (endPage < response.totalPages) {
                if (endPage < response.totalPages - 1) {
                    paginationHTML += '<span>...</span>';
                }
                paginationHTML += `<a href="#" data-page="${response.totalPages}">${response.totalPages}</a>`;
            }
            
            // ‰∏ã‰???            if (currentPage < response.totalPages) {
                paginationHTML += `<a href="#" data-page="${currentPage + 1}">‰∏ã‰???&raquo;</a>`;
            }
            
            paginationContainer.innerHTML = paginationHTML;
            
            // Á∂ÅÂ??ÜÈ?ÈªûÊ?‰∫ã‰ª∂
            bindPaginationEvents();
        }

        // ?¥Êñ∞?ÜÈ?Ë®àÊï∏
        async function updateCategoryCounts() {
            try {
                const stats = await communityAPI.getCategoryStats();
                
                categoryLinks.forEach(link => {
                    const category = link.dataset.category;
                    if (category === 'all') {
                        link.textContent = `?Ä?âÂ?È°?(${stats.all || 0})`;
                    } else if (stats[category] !== undefined) {
                        link.textContent = `${category} (${stats[category]})`;
                    } else {
                        link.textContent = `${category} (0)`;
                    }
                });
            } catch (error) {
                console.error('?¥Êñ∞?ÜÈ?Ë®àÊï∏Â§±Ê?:', error);
            }
        }

        // Á∂ÅÂ?‰∫ã‰ª∂
        function bindEvents() {
            console.log('?ãÂ?Á∂ÅÂ?‰∫ã‰ª∂');
            
            // ?ÜÈ?ÈªûÊ?
            categoryLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    // ?¥Êñ∞?∏‰∏≠?Ä??                    categoryLinks.forEach(l => l.classList.remove('active'));
                    link.classList.add('active');
                    
                    // ?¥Êñ∞?ÅÈù¢?Ä??                    currentCategory = link.dataset.category;
                    currentPage = 1;
                    currentSearch = '';
                    searchInput.value = '';
                    
                    updateURL();
                    loadPosts();
                });
            });
            
            // ?úÂ?
            if (searchBtn) {
                searchBtn.addEventListener('click', performSearch);
            }
            if (searchInput) {
                searchInput.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            }
            
            // Ê®°Ê?Ê°Ü‰?‰ª?            console.log('Ê∫ñÂ?Á∂ÅÂ?Ê®°Ê?Ê°Ü‰?‰ª?);
            console.log('newPostBtn:', newPostBtn);
            console.log('closeBtn:', closeBtn);
            console.log('cancelBtn:', cancelBtn);
            console.log('submitBtn:', submitBtn);
            
            if (newPostBtn) {
                console.log('Á∂ÅÂ??∞Ê?Á´†Ê??ïÈ??ä‰?‰ª?);
                newPostBtn.addEventListener('click', function(e) {
                    console.log('?∞Ê?Á´†Ê??ïË¢´ÈªûÊ?');
                    e.preventDefault();
                    openModal();
                });
            } else {
                console.error('?æ‰??∞Êñ∞?áÁ??âÈ?Ôº?);
            }
            
            if (closeBtn) {
                closeBtn.addEventListener('click', closeModal);
            }
            if (cancelBtn) {
                cancelBtn.addEventListener('click', closeModal);
            }
            if (submitBtn) {
                submitBtn.addEventListener('click', handleSubmitPost);
            }
            
            // ÈªûÊ?Ê®°Ê?Ê°ÜÂ??®È???            window.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
            
            console.log('‰∫ã‰ª∂Á∂ÅÂ?ÂÆåÊ?');
        }

        // Á∂ÅÂ?Ê®ôÁ±§‰∫ã‰ª∂
        function bindTagEvents() {
            const tagElements = document.querySelectorAll('.discussion-tag[data-tag], .tag[data-tag]');
            tagElements.forEach(tag => {
                tag.addEventListener('click', (e) => {
                    e.preventDefault();
                    const tagValue = tag.dataset.tag;
                    
                    // Â¶ÇÊ??âÊ?Â∞ãËº∏?•Ê?Ôºå‰Ωø?®Â?
                    if (searchInput) {
                        searchInput.value = tagValue;
                        performSearch();
                    } else {
                        // ?¶Â??¥Êé•?úÂ?Ê®ôÁ±§
                        currentSearch = tagValue;
                        currentPage = 1;
                        currentCategory = 'all';
                        updateURL();
                        loadPosts();
                    }
                });
            });
        }

        // Á∂ÅÂ??ÜÈ?‰∫ã‰ª∂
        function bindPaginationEvents() {
            const pageLinks = paginationContainer.querySelectorAll('a[data-page]');
            pageLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    currentPage = parseInt(link.dataset.page);
                    updateURL();
                    loadPosts();
                    window.scrollTo(0, 0);
                });
            });
        }

        // ?∑Ë??úÂ?
        function performSearch() {
            currentSearch = searchInput.value.trim();
            currentPage = 1;
            currentCategory = 'all';
            
            // ?¥Êñ∞?ÜÈ??∏‰∏≠?Ä??            categoryLinks.forEach(link => {
                link.classList.remove('active');
                if (link.dataset.category === 'all') {
                    link.classList.add('active');
                }
            });
            
            updateURL();
            loadPosts();
        }

        // ?ãÂ?Ê®°Ê?Ê°?        function openModal() {
            console.log('openModal ?ΩÊï∏Ë¢´Ë™ø??);
            
            // Ê™¢Êü•?ªÂÖ•?Ä??            const token = localStorage.getItem('token');
            console.log('?ªÂÖ•?Ä?ãÊ™¢??- token:', token ? 'Â≠òÂú®' : '‰∏çÂ???);
            
            if (!token) {
                console.log('?®Êà∂?™Áôª?•Ô?È°ØÁ§∫?êÁ§∫');
                alert('Ë´ãÂ??ªÂÖ•?çËÉΩ?ºË°®?áÁ?');
                window.location.href = 'login.html';
                return;
            }
            
            const modalElement = document.getElementById('post-modal');
            if (modalElement) {
                console.log('È°ØÁ§∫Ê®°Ê?Ê°?);
                // ÁßªÈô§?Ä?âÂÖß?ØÊ®£ÂºèÔ?ÂÆåÂÖ®‰æùË≥¥CSSÈ°ûÂà•
                modalElement.style.removeProperty('display');
                modalElement.classList.add('show');
                console.log('Ê®°Ê?Ê°ÜÈ??•Â∑≤Ê∑ªÂ?:', modalElement.className);
                console.log('Ê®°Ê?Ê°ÜcomputedÊ®??:', window.getComputedStyle(modalElement).display);
                initTagInput();
            } else {
                console.error('Ê®°Ê?Ê°ÜÂ?Á¥†‰?Â≠òÂú®Ôº?);
            }
        }

        // ?úÈ?Ê®°Ê?Ê°?        function closeModal() {
            const modalElement = document.getElementById('post-modal');
            if (modalElement) {
                modalElement.classList.remove('show');
                console.log('Ê®°Ê?Ê°ÜÂ∑≤?±Ë?');
                clearForm();
            }
        }

        // Ê∏ÖÁ©∫Ë°®ÂñÆ
        function clearForm() {
            document.getElementById('post-title').value = '';
            document.getElementById('post-category').value = '';
            document.getElementById('post-content').value = '';
            document.getElementById('tag-input').value = '';
            
            // Ê∏ÖÁ©∫Ê®ôÁ±§
            const tagItems = document.querySelectorAll('.tag-item');
            tagItems.forEach(item => item.remove());
        }

        // ?ïÁ??ºË°®?áÁ?
        async function handleSubmitPost() {
            const title = document.getElementById('post-title').value.trim();
                const category = document.getElementById('post-category').value;
            const content = document.getElementById('post-content').value.trim();
                
                if (!title || !category || !content) {
                    alert('Ë´ãÂ°´ÂØ´Ê??âÂ?Â°´Ê?‰Ω?);
                    return;
                }
                
                // ?∂È?Ê®ôÁ±§
                const tagItems = document.querySelectorAll('.tag-item');
                const tags = Array.from(tagItems).map(item => item.dataset.tagValue);
                
            try {
                submitBtn.disabled = true;
                submitBtn.textContent = '?ºË°®‰∏?..';
                
                await communityAPI.createPost({
                    title,
                    category,
                    content,
                    tags
                });
                
                alert('?áÁ??ºË°®?êÂ?Ôº?);
                closeModal();
                
                // ?çÊñ∞ËºâÂÖ•Ë≤ºÊ??óË°®
                currentPage = 1;
                loadPosts();
                updateCategoryCounts();
                
            } catch (error) {
                console.error('?ºË°®?áÁ?Â§±Ê?:', error);
                alert('?ºË°®?áÁ?Â§±Ê?Ôº? + error.message);
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = '?ºË°®?áÁ?';
            }
        }
        
        // Ê®ôÁ±§Ëº∏ÂÖ•?üËÉΩ
        function initTagInput() {
            const tagInput = document.getElementById('tag-input');
            const tagContainer = document.getElementById('tag-container');
            
            tagInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    
                    const tagValue = tagInput.value.trim();
                    if (!tagValue) return;
                    
                    // Ê™¢Êü•?ØÂê¶Â∑≤Â??®Áõ∏?åÊ?Á±?                    const existingTags = Array.from(tagContainer.querySelectorAll('.tag-item'))
                        .map(tag => tag.dataset.tagValue);
                    
                    if (existingTags.includes(tagValue)) {
                        tagInput.value = '';
                        return;
                    }
                    
                    // ?êÂà∂?ÄÂ§??ãÊ?Á±?                    if (existingTags.length >= 5) {
                        alert('?ÄÂ§öÂè™?ΩÊ∑ª???ãÊ?Á±?);
                        return;
                    }
                    
                    // ?µÂª∫Ê®ôÁ±§?ÉÁ?
                    const tagItem = document.createElement('div');
                    tagItem.className = 'tag-item';
                    tagItem.dataset.tagValue = tagValue;
                    tagItem.innerHTML = `
                        ${tagValue}
                        <span class="tag-remove">&times;</span>
                    `;
                    
                    // ÈªûÊ??™Èô§Ê®ôÁ±§
                    const removeBtn = tagItem.querySelector('.tag-remove');
                    removeBtn.addEventListener('click', () => {
                        tagItem.remove();
                    });
                    
                    // ?íÂÖ•Ê®ôÁ±§?ÉÁ?
                    tagContainer.insertBefore(tagItem, tagInput);
                    tagInput.value = '';
                }
            });
        }
        
        // ?¥Êñ∞URL
        function updateURL() {
            const params = new URLSearchParams();
            
            if (currentPage > 1) {
                params.append('page', currentPage);
            }
            
            if (currentCategory !== 'all') {
                params.append('category', currentCategory);
            }
            
            if (currentSearch) {
                params.append('search', currentSearch);
            }
            
            const newURL = `${window.location.pathname}${params.toString() ? '?' + params.toString() : ''}`;
            window.history.pushState(null, '', newURL);
        }

        // È°ØÁ§∫ËºâÂÖ•?Ä??        function showLoading() {
            loadingIndicator.style.display = 'block';
            discussionsGrid.style.opacity = '0.5';
        }

        // ?±Ë?ËºâÂÖ•?Ä??        function hideLoading() {
            loadingIndicator.style.display = 'none';
            discussionsGrid.style.opacity = '1';
        }

        // È°ØÁ§∫?ØË™§Ë®äÊÅØ
        function showError(message) {
            discussionsGrid.innerHTML = `<div class="error-message">${message}</div>`;
        }

        // ?ºÂ??ñÊó•??        function formatDate(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const diffTime = Math.abs(now - date);
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            
            if (diffDays === 1) {
                return '1Â§©Â?';
            } else if (diffDays < 7) {
                return `${diffDays}Â§©Â?`;
            } else if (diffDays < 30) {
                const weeks = Math.floor(diffDays / 7);
                return `${weeks}?±Â?`;
            } else {
                return date.toLocaleDateString('zh-TW');
            }
        }

        // Ê∏¨Ë©¶?ΩÊï∏ - ?¥Êé•Ê∏¨Ë©¶?âÈ??üËÉΩ
        function testButton() {
            console.log('=== ?âÈ?Ê∏¨Ë©¶?ãÂ? ===');
            
            setTimeout(() => {
                const btn = document.getElementById('new-post-btn');
                console.log('?âÈ??ÉÁ?:', btn);
                console.log('?âÈ?È°ûÂà•:', btn ? btn.className : '?âÈ?‰∏çÂ???);
                console.log('?âÈ??áÂ?:', btn ? btn.textContent : '?âÈ?‰∏çÂ???);
                console.log('?âÈ??∂Â?Á¥?', btn ? btn.parentElement : '?âÈ?‰∏çÂ???);
                
                if (btn) {
                    console.log('?óË©¶?¥Êé•ÈªûÊ??âÈ?...');
                    btn.click();
                }
                
                // Ê™¢Êü•Ê®°Ê?Ê°?                const modal = document.getElementById('post-modal');
                console.log('Ê®°Ê?Ê°ÜÂ?Á¥?', modal);
                console.log('Ê®°Ê?Ê°ÜÊ®£Âº?', modal ? window.getComputedStyle(modal).display : 'Ê®°Ê?Ê°Ü‰?Â≠òÂú®');
                
                console.log('=== ?âÈ?Ê∏¨Ë©¶ÁµêÊ? ===');
            }, 2000);
        }
        
        // ?®È??¢Ë??•Â??∑Ë?Ê∏¨Ë©¶
        setTimeout(testButton, 3000);
        
        // ?ôÁî®?πÊ?ÔºöÁõ¥?•Âú®DOMËºâÂÖ•ÂÆåÊ?ÂæåÁ??≥Á?ÂÆöÊ??ï‰?‰ª?        document.addEventListener('DOMContentLoaded', function() {
            // Á≠âÂ?‰∏ÄÂ∞èÊÆµ?ÇÈ?Á¢∫‰?DOMÂÆåÂÖ®Ê∫ñÂ?Â•?            setTimeout(() => {
                const backupBtn = document.getElementById('new-post-btn');
                console.log('?ôÁî®?πÊ?ÔºöÊü•?æÊ???, backupBtn);
                
                if (backupBtn) {
                    // ÁßªÈô§?ØËÉΩÂ≠òÂú®?ÑË?‰∫ã‰ª∂??ÅΩ??                    const newBtn = backupBtn.cloneNode(true);
                    backupBtn.parentNode.replaceChild(newBtn, backupBtn);
                    
                    // ?¥Êé•Á∂ÅÂ?ÈªûÊ?‰∫ã‰ª∂
                    newBtn.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('?ôÁî®?πÊ?ÔºöÊ??ïË¢´ÈªûÊ?Ôº?);
                        
                        // Ê™¢Êü•?ªÂÖ•?Ä??                        const token = localStorage.getItem('token');
                        if (!token) {
                            alert('Ë´ãÂ??ªÂÖ•?çËÉΩ?ºË°®?áÁ?');
                            window.location.href = 'login.html';
                            return;
                        }
                        
                        // ?¥Êé•È°ØÁ§∫Ê®°Ê?Ê°?                        const modal = document.getElementById('post-modal');
                        if (modal) {
                            modal.style.removeProperty('display');
                            modal.classList.add('show');
                            console.log('?ôÁî®?πÊ?ÔºöÊ®°?ãÊ?Â∑≤È°ØÁ§?);
                            console.log('?ôÁî®?πÊ?ÔºöÊ®°?ãÊ?È°ûÂà•:', modal.className);
                            console.log('?ôÁî®?πÊ?ÔºöÊ®°?ãÊ?computedÊ®??:', window.getComputedStyle(modal).display);
                        } else {
                            console.error('?ôÁî®?πÊ?ÔºöÊâæ‰∏çÂà∞Ê®°Ê?Ê°?);
                        }
                    });
                    
                    console.log('?ôÁî®?πÊ?Ôºö‰?‰ª∂Á?ÂÆöÂ???);
                } else {
                    console.error('?ôÁî®?πÊ?ÔºöÊâæ‰∏çÂà∞?âÈ?');
                }
            }, 500);
        });
        
        // Ê∏¨Ë©¶?®Ê®°?¨Êï∏??- Á¢∫‰??Ä?âË≤º?áÈÉΩ?âÈ?Ë®≠È†≠??        function loadTestPosts() {
            const testPosts = [
                {
                    _id: 'test1',
                    title: '?ëÁ?Á¨¨‰?Ê¨°ÊîπË£ùÁ?È©óÂ?‰∫?,
                    author: '?πË??∞Ê?',
                    avatar: '', // Á©∫È†≠?èÊ∏¨Ë©¶È?Ë®≠È†≠??                    createdAt: new Date().toISOString(),
                    category: '?íÊ∞£Á≥ªÁµ±',
                    excerpt: '?ÄËøëÂ??ê‰??ëÁ?Á¨¨‰?Ê¨°Êë©?òË??πË?ÔºåÊÉ≥Ë∑üÂ§ßÂÆ∂Â?‰∫´‰?‰∏ãÁ?È©?..',
                    tags: ['?∞Ê?', '?íÊ∞£ÁÆ?, 'Á∂ìÈ??Ü‰∫´'],
                    likes: 15,
                    views: 234,
                    commentCount: 8
                },
                {
                    _id: 'test2',
                    title: '?∏Ê??øÈ??®Á?ÂπæÂÄãË?Èª?,
                    author: 'ËªäÂ?Â§ßÁ?',
                    avatar: null, // null?≠Â?Ê∏¨Ë©¶?êË®≠?≠Â?
                    createdAt: new Date(Date.now() - 24*60*60*1000).toISOString(),
                    category: '?∏Â?Á≥ªÁµ±',
                    excerpt: '?øÈ??®ÊòØÂΩ±ÈüøÈ®é‰??íÈÅ©Â∫¶Â??çÊéß?ßÁ??çË??∂‰ª∂ÔºåÈÅ∏?áÊ??ÄË¶ÅÊ≥®??..',
                    tags: ['?øÈ???, '?∏Ë≥º?áÂ?', '?∏Â?'],
                    likes: 42,
                    views: 567,
                    commentCount: 23
                },
                {
                    _id: 'test3',
                    title: 'LEDÂ§ßÁ??πË?ÂøÉÂ?',
                    author: 'Â§úÈ?‰ø?,
                    // ÂÆåÂÖ®‰∏çË®≠ÁΩÆavatarÂ±¨ÊÄ?                    createdAt: new Date(Date.now() - 2*24*60*60*1000).toISOString(),
                    category: '?ªÂ?Á≥ªÁµ±',
                    excerpt: 'LEDÂ§ßÁ?‰∏çÂ??ÅÈõªÔºå‰∫ÆÂ∫¶‰?ÊØîÂÇ≥Áµ±Á?Ê≥°Â•ΩÂæàÂ?Ôºå‰?Â§©‰??Ü‰∫´?πË??éÁ?...',
                    tags: ['LED', 'Â§ßÁ?', '?ßÊ?'],
                    likes: 28,
                    views: 189,
                    commentCount: 12
                }
            ];
            
            displayPosts(testPosts);
            document.getElementById('discussion-count').textContent = `?æÂà∞ ${testPosts.length} ÁØáË?Ë´ñÊ?Á´†`;
        }
        
        // Â¶ÇÊ??°Ê?ËºâÂÖ•?üÂØ¶?∏Ê?ÔºåÂ?ËºâÂÖ•Ê∏¨Ë©¶?∏Ê?
        setTimeout(() => {
            const gridContent = document.getElementById('discussions-grid').innerHTML;
            if (!gridContent || gridContent.includes('ËºâÂÖ•‰∏?) || gridContent.includes('Ê≤íÊ??æÂà∞')) {
                console.log('ËºâÂÖ•Ê∏¨Ë©¶?∏Ê?‰ª•Á¢∫‰øùÈ?Ë®≠È†≠?èÊ≠£Â∏∏È°ØÁ§?);
                loadTestPosts();
            }
        }, 5000);
    </script>
</body>
</html>
