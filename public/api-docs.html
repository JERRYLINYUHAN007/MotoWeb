<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API 文檔 - MotoWeb</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700&family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        .api-container {
            max-width: 1200px;
            margin: 100px auto 50px;
            padding: 0 20px;
        }
        
        .api-header {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }
        
        .api-title {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .api-description {
            color: #666;
            font-size: 1.1rem;
        }
        
        .api-section {
            margin-bottom: 40px;
        }
        
        .api-section-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }
        
        .api-endpoint {
            background: #f9f9f9;
            border-radius: 5px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .endpoint-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .http-method {
            padding: 5px 10px;
            border-radius: 4px;
            color: white;
            font-weight: bold;
            margin-right: 15px;
            min-width: 60px;
            text-align: center;
        }
        
        .method-get {
            background: #3498db;
        }
        
        .method-post {
            background: #2ecc71;
        }
        
        .method-put {
            background: #f39c12;
        }
        
        .method-delete {
            background: #e74c3c;
        }
        
        .endpoint-url {
            font-family: monospace;
            font-size: 1.1rem;
        }
        
        .endpoint-description {
            margin-bottom: 15px;
        }
        
        .params-title, .response-title {
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .param-table, .response-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 15px;
        }
        
        .param-table th, .response-table th,
        .param-table td, .response-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        .param-table th, .response-table th {
            background: #f5f5f5;
        }
        
        .param-required {
            color: #e74c3c;
            font-weight: bold;
        }
        
        .code-example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 4px;
            font-family: monospace;
            overflow-x: auto;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="api-container">
        <div class="api-header">
            <h1 class="api-title">MotoWeb API 文檔</h1>
            <p class="api-description">本文檔提供了 MotoWeb 平台所有可用的 API 端點和使用方法。</p>
        </div>
        
        <div class="api-section">
            <h2 class="api-section-title">認證 API</h2>
            
            <div class="api-endpoint">
                <div class="endpoint-header">
                    <span class="http-method method-post">POST</span>
                    <span class="endpoint-url">/api/register</span>
                </div>
                
                <p class="endpoint-description">註冊新用戶</p>
                
                <div class="params">
                    <p class="params-title">請求參數</p>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>參數名稱</th>
                                <th>類型</th>
                                <th>必填</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>username</td>
                                <td>String</td>
                                <td><span class="param-required">是</span></td>
                                <td>用戶名</td>
                            </tr>
                            <tr>
                                <td>email</td>
                                <td>String</td>
                                <td><span class="param-required">是</span></td>
                                <td>電子郵件</td>
                            </tr>
                            <tr>
                                <td>password</td>
                                <td>String</td>
                                <td><span class="param-required">是</span></td>
                                <td>密碼</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="response">
                    <p class="response-title">回應內容</p>
                    <pre class="code-example">{
  "message": "註冊成功",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "60a1b2c3d4e5f6g7h8i9j0k1",
    "username": "example_user",
    "email": "user@example.com",
    "role": "user"
  }
}</pre>
                </div>
            </div>
            
            <div class="api-endpoint">
                <div class="endpoint-header">
                    <span class="http-method method-post">POST</span>
                    <span class="endpoint-url">/api/login</span>
                </div>
                
                <p class="endpoint-description">用戶登入</p>
                
                <div class="params">
                    <p class="params-title">請求參數</p>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>參數名稱</th>
                                <th>類型</th>
                                <th>必填</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>username</td>
                                <td>String</td>
                                <td><span class="param-required">是</span></td>
                                <td>用戶名或電子郵件</td>
                            </tr>
                            <tr>
                                <td>password</td>
                                <td>String</td>
                                <td><span class="param-required">是</span></td>
                                <td>密碼</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="response">
                    <p class="response-title">回應內容</p>
                    <pre class="code-example">{
  "message": "登入成功",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "60a1b2c3d4e5f6g7h8i9j0k1",
    "username": "example_user",
    "email": "user@example.com",
    "role": "user"
  }
}</pre>
                </div>
            </div>
            
            <div class="api-endpoint">
                <div class="endpoint-header">
                    <span class="http-method method-post">POST</span>
                    <span class="endpoint-url">/api/forgot-password</span>
                </div>
                
                <p class="endpoint-description">請求重置密碼</p>
                
                <div class="params">
                    <p class="params-title">請求參數</p>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>參數名稱</th>
                                <th>類型</th>
                                <th>必填</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>email</td>
                                <td>String</td>
                                <td><span class="param-required">是</span></td>
                                <td>電子郵件</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="response">
                    <p class="response-title">回應內容</p>
                    <pre class="code-example">{
  "message": "重置密碼的郵件已發送，請檢查您的收件箱"
}</pre>
                </div>
            </div>
        </div>
        
        <div class="api-section">
            <h2 class="api-section-title">用戶 API</h2>
            
            <div class="api-endpoint">
                <div class="endpoint-header">
                    <span class="http-method method-get">GET</span>
                    <span class="endpoint-url">/api/profile</span>
                </div>
                
                <p class="endpoint-description">獲取當前用戶資料</p>
                
                <div class="params">
                    <p class="params-title">請求頭</p>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>參數名稱</th>
                                <th>必填</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Authorization</td>
                                <td><span class="param-required">是</span></td>
                                <td>Bearer &lt;token&gt;</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="response">
                    <p class="response-title">回應內容</p>
                    <pre class="code-example">{
  "_id": "60a1b2c3d4e5f6g7h8i9j0k1",
  "username": "example_user",
  "email": "user@example.com",
  "role": "user",
  "createdAt": "2024-01-01T12:00:00.000Z",
  "profile": {
    "avatar": "/images/default-avatar.png",
    "bio": "摩托車愛好者",
    "location": "台北市",
    "favoriteModels": ["Yamaha R15", "Honda CB650R"],
    "social": {
      "facebook": "https://facebook.com/example",
      "instagram": "https://instagram.com/example"
    }
  }
}</pre>
                </div>
            </div>
        </div>
        
        <div class="api-section">
            <h2 class="api-section-title">改裝案例 API</h2>
            
            <div class="api-endpoint">
                <div class="endpoint-header">
                    <span class="http-method method-get">GET</span>
                    <span class="endpoint-url">/api/showcase</span>
                </div>
                
                <p class="endpoint-description">獲取改裝案例列表</p>
                
                <div class="params">
                    <p class="params-title">查詢參數</p>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>參數名稱</th>
                                <th>類型</th>
                                <th>必填</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>page</td>
                                <td>Number</td>
                                <td>否</td>
                                <td>頁碼，默認值為 1</td>
                            </tr>
                            <tr>
                                <td>limit</td>
                                <td>Number</td>
                                <td>否</td>
                                <td>每頁數量，默認值為 6</td>
                            </tr>
                            <tr>
                                <td>search</td>
                                <td>String</td>
                                <td>否</td>
                                <td>搜索關鍵詞</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <div class="api-section">
            <h2 class="api-section-title">摩托車圖片 API</h2>
            
            <div class="api-endpoint">
                <div class="endpoint-header">
                    <span class="http-method method-get">GET</span>
                    <span class="endpoint-url">/api/bikes/images</span>
                </div>
                
                <p class="endpoint-description">獲取摩托車圖片庫</p>
                
                <div class="params">
                    <p class="params-title">查詢參數</p>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>參數名稱</th>
                                <th>類型</th>
                                <th>必填</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>model</td>
                                <td>String</td>
                                <td>否</td>
                                <td>車型，如 'SYM-SL125'，默認為 'all'</td>
                            </tr>
                            <tr>
                                <td>category</td>
                                <td>String</td>
                                <td>否</td>
                                <td>類別，可以是 '原廠', '改裝整車', '改裝零件'，默認為 'all'</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="response">
                    <p class="response-title">回應內容</p>
                    <pre class="code-example">{
  "images": [
    {
      "url": "/uploads/scraped-bikes/SYM-SL125/原廠/fixed-image-1.jpg",
      "title": "SYM SL125 原廠",
      "model": "SYM-SL125",
      "category": "原廠"
    },
    {
      "url": "/uploads/scraped-bikes/SYM-DRG/改裝零件-排氣管/fixed-image-1.jpg",
      "title": "SYM DRG 排氣管",
      "model": "SYM-DRG",
      "category": "改裝零件-排氣管"
    }
    // 更多圖片...
  ]
}</pre>
                </div>
            </div>
            
            <div class="api-endpoint">
                <div class="endpoint-header">
                    <span class="http-method method-get">GET</span>
                    <span class="endpoint-url">/api/bike-images</span>
                </div>
                
                <p class="endpoint-description">獲取摩托車圖片（替代API）</p>
                
                <div class="params">
                    <p class="params-title">查詢參數</p>
                    <table class="param-table">
                        <thead>
                            <tr>
                                <th>參數名稱</th>
                                <th>類型</th>
                                <th>必填</th>
                                <th>描述</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>model</td>
                                <td>String</td>
                                <td>否</td>
                                <td>車型名稱，默認為 'all'</td>
                            </tr>
                            <tr>
                                <td>category</td>
                                <td>String</td>
                                <td>否</td>
                                <td>類別名稱，默認為 'all'</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
                <div class="response">
                    <p class="response-title">回應內容</p>
                    <pre class="code-example">{
  "images": [
    {
      "path": "/uploads/scraped-bikes/SYM-SL125/原廠/image-1.jpg",
      "model": "SYM SL125",
      "category": "原廠",
      "title": "SYM SL125 原廠",
      "description": "原廠標準配置"
    }
    // 更多圖片...
  ],
  "model": "all",
  "category": "all",
  "total": 25
}</pre>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/common.js"></script>
</body>
</html> 